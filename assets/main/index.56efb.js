window.__require=function e(t,o,n){function s(r,i){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!i&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var p=o[r]={exports:{}};t[r][0].call(p.exports,function(e){return s(t[r][1][e]||e)},p,p.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)s(n[r]);return s}({slot:[function(e,t,o){"use strict";cc._RF.push(t,"688716ZOMxH96s/YwmlyM1n","slot"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.balance=null,t.slots=[],t.startBtn=null,t.winScore=null,t.slots_g=[],t.ws=null,t.myBalance=1e3,t.slots_node=[],t.websocket=function(){t.ws=new WebSocket("ws://127.0.0.1:8888"),t.ws.onopen=function(){console.log("Send Text WS was opened."),cc.log("@@@onopen OK")},t.ws.onmessage=function(e){console.log("response text msg: ",e),console.log("response text msg: ",e.data),t.receiveData(e.data)},t.ws.onerror=function(){console.log("Send Text fired an error")},t.ws.onclose=function(){console.log("WebSocket instance closed.")}},t}return __extends(t,e),t.prototype.onLoad=function(){this.balance.string=this.myBalance+"",this.slots_node[0]=cc.find("Canvas/game/slot/slot_g1"),this.slots_node[1]=cc.find("Canvas/game/slot/slot_g2"),this.slots_node[2]=cc.find("Canvas/game/slot/slot_g3"),this.slots_node[0].getComponent(cc.Sprite).spriteFrame=this.slots_g[3],this.slots_node[1].getComponent(cc.Sprite).spriteFrame=this.slots_g[2],this.slots_node[2].getComponent(cc.Sprite).spriteFrame=this.slots_g[1],cc.log("@@@this.slots_node: ",this.slots_node)},t.prototype.start=function(){cc.log("@@@start"),this.websocket()},t.prototype.spin_btn=function(e){cc.log("@@@spin_btn: ",e);for(var t=0;t<3;t++)this.slots[t].string="-",this.slots_node[t].getComponent(cc.Sprite).spriteFrame=null;this.myBalance>10?(this.ws.send("spin"),this.winScore.node.active=!1,this.balance.string=this.myBalance-1+""):(this.winScore.string="\u9918\u984d\u4e0d\u8db3\uff0c\u5fc5\u9808\u5927\u65bc10\u5143",this.winScore.node.active=!0)},t.prototype.receiveData=function(e){var t=this;cc.log("@@@receiveData: ",e);var o=JSON.parse(e);if(cc.log("@@@receiveData.Code ",o.Code),o.Code)return cc.log("@@@this.myBalance: ",this.myBalance),cc.log("@@@\u63a5\u6536\u5230\u932f\u8aa4\u72c0\u614b\u78bc"),this.myBalance<=11?this.winScore.string="\u9918\u984d\u4e0d\u8db3\uff0c\u5fc5\u9808\u5927\u65bc10\u5143":this.winScore.string="\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u54a8\u8a62\u5ba2\u670d",void(this.winScore.node.active=!0);for(var n=function(e){s.scheduleOnce(function(){t.slots[e].string=o.Numbers[e]+"";var n=o.Numbers[e];t.slots_node[e].getComponent(cc.Sprite).spriteFrame=t.slots_g[n]},e/2)},s=this,c=0;c<3;c++)n(c);this.scheduleOnce(function(){o.Money>0?(t.winScore.string="\u606d\u559c\u8d0f\u5f97 "+o.Money+" \u5206",t.winScore.node.active=!0):(t.winScore.string="\u597d\u53ef\u60dc\uff0c\u518d\u73a9\u4e00\u6b21!",t.winScore.node.active=!0),t.myBalance=+o.LeftMoney,t.balance.string=t.myBalance+""},1)},__decorate([c(cc.Label)],t.prototype,"balance",void 0),__decorate([c(cc.Label)],t.prototype,"slots",void 0),__decorate([c(cc.Button)],t.prototype,"startBtn",void 0),__decorate([c(cc.Label)],t.prototype,"winScore",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"slots_g",void 0),__decorate([s],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"e72d4FM8bdDBJJRojFhzX5s","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateTo","slot"]);